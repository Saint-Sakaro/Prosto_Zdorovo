# üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Docker –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞

## –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç

```bash
./docker-update.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
2. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑—ã
3. –ó–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
4. –ü—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏
5. –°–æ–±–µ—Ä–µ—Ç —Å—Ç–∞—Ç–∏–∫—É

---

## –°–ø–æ—Å–æ–±—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1Ô∏è‚É£ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
./docker-update.sh
```

### 2Ô∏è‚É£ –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞)

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –±–µ–∑ –∫—ç—à–∞
docker-compose build --no-cache

# –ó–∞–ø—É—Å–∫
docker-compose up -d

# –ú–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec backend python manage.py migrate

# –°—Ç–∞—Ç–∏–∫–∞
docker-compose exec backend python manage.py collectstatic --noinput
```

### 3Ô∏è‚É£ –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫)

–ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è —Ç–æ–ª—å–∫–æ Python –∫–æ–¥ (–Ω–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏):

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ backend
docker-compose restart backend

# –ò–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö
docker-compose restart
```

**–í–∞–∂–Ω–æ:** –ö–æ–¥ Python –æ–±–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è volume `.:/app`, –Ω–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

### 4Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ Frontend

–ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è —Ç–æ–ª—å–∫–æ React –∫–æ–¥:

```bash
# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ frontend
docker-compose build frontend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose up -d frontend
```

### 5Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ Backend

–ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è —Ç–æ–ª—å–∫–æ Django –∫–æ–¥:

```bash
# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ backend
docker-compose build backend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose restart backend
```

---

## Development —Ä–µ–∂–∏–º —Å Hot-Reload

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ dev –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```bash
# –ó–∞–ø—É—Å–∫ –≤ dev —Ä–µ–∂–∏–º–µ
docker-compose -f docker-compose.dev.yml up -d

# –í dev —Ä–µ–∂–∏–º–µ:
# - Django –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ .py —Ñ–∞–π–ª–æ–≤
# - React –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ .tsx/.ts —Ñ–∞–π–ª–æ–≤
# - –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ dev —Ä–µ–∂–∏–º–∞:

‚úÖ **Django**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Python –∫–æ–¥–∞  
‚úÖ **React**: Hot-reload –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤  
‚úÖ **–ë—ã—Å—Ç—Ä–æ**: –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã  
‚úÖ **–£–¥–æ–±–Ω–æ**: –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

‚ùå –ú–µ–¥–ª–µ–Ω–Ω–µ–µ production –≤–µ—Ä—Å–∏–∏  
‚ùå –ë–æ–ª—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

---

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ Python –∫–æ–¥–∞ (Django)

1. **–° volume –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º** (—Ç–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è):
   - –ö–æ–¥ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `.:/app`
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
   - **–ù—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å**: `docker-compose restart backend`
   - Django –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è (–µ—Å–ª–∏ DEBUG=True)

2. **–ë–µ–∑ volume –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**:
   - –ù—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑: `docker-compose build backend`
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: `docker-compose up -d backend`

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ React –∫–æ–¥–∞

1. **Production —Ä–µ–∂–∏–º**:
   - –ù—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å: `docker-compose build frontend`
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å: `docker-compose up -d frontend`

2. **Dev —Ä–µ–∂–∏–º** (docker-compose.dev.yml):
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É (hot-reload)
   - –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**Python (requirements.txt):**
```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
docker-compose build --no-cache backend
docker-compose up -d backend
```

**Node (package.json):**
```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
docker-compose build --no-cache frontend
docker-compose up -d frontend
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π

```bash
# –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)
docker-compose exec backend python manage.py makemigrations

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec backend python manage.py migrate
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏–∫–∏

```bash
# –°–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏–∫—É
docker-compose exec backend python manage.py collectstatic --noinput
```

---

## –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –∫–æ–¥, –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

```bash
# –î–ª—è backend (Python –∫–æ–¥)
docker-compose restart backend

# –î–ª—è frontend (–Ω—É–∂–Ω–∞ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞)
docker-compose build frontend && docker-compose up -d frontend
```

### –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏)

```bash
./docker-update.sh
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
docker-compose ps
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –¢–æ–ª—å–∫–æ backend
docker-compose logs -f backend

# –¢–æ–ª—å–∫–æ frontend
docker-compose logs -f frontend
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
# –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose exec backend bash

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–¥
ls -la /app
cat /app/manage.py
```

---

## –ß–∞—Å—Ç—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ò–∑–º–µ–Ω–∏–ª Python —Ñ–∞–π–ª

```bash
# –ü—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose restart backend
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–æ–±–∞–≤–∏–ª –Ω–æ–≤—É—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ requirements.txt

```bash
# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å backend
docker-compose build --no-cache backend
docker-compose up -d backend
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ò–∑–º–µ–Ω–∏–ª React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

**Production:**
```bash
docker-compose build frontend
docker-compose up -d frontend
```

**Dev —Ä–µ–∂–∏–º:**
```bash
# –ü—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª - –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ò–∑–º–µ–Ω–∏–ª –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django (settings.py)

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend
docker-compose restart backend
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 5: –°–æ–∑–¥–∞–ª –Ω–æ–≤—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec backend python manage.py migrate
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 6: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
# –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
./docker-update.sh
```

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **dev —Ä–µ–∂–∏–º**:
```bash
docker-compose -f docker-compose.dev.yml up -d
```

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
- –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
- –ë—ã—Å—Ç—Ä–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è

### –î–ª—è production

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **production —Ä–µ–∂–∏–º**:
```bash
docker-compose up -d
```

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö:
```bash
./docker-update.sh
```

---

## Troubleshooting

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ volume –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   ```bash
   docker-compose exec backend ls -la /app
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
   ```bash
   docker-compose restart backend
   ```

3. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑:**
   ```bash
   docker-compose build --no-cache backend
   docker-compose up -d backend
   ```

### –û—à–∏–±–∫–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

```bash
# –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å –Ω—É–ª—è
docker-compose down -v
docker-compose build --no-cache
docker-compose up -d
```

### –ö—ç—à Docker

–ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è, –æ—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à:

```bash
# –û—á–∏—Å—Ç–∫–∞ build –∫—ç—à–∞
docker builder prune

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
docker system prune -a
```

---

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤

| –†–µ–∂–∏–º | –ö–æ–º–∞–Ω–¥–∞ | Hot-Reload | –°–∫–æ—Ä–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|-------|---------|------------|---------------------|---------------|
| **Production** | `docker-compose up -d` | ‚ùå | –ú–µ–¥–ª–µ–Ω–Ω–æ (–ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞) | Production |
| **Dev** | `docker-compose -f docker-compose.dev.yml up -d` | ‚úÖ | –ë—ã—Å—Ç—Ä–æ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ |
| **Simple** | `docker-compose -f docker-compose.simple.yml up -d` | ‚ùå | –ú–µ–¥–ª–µ–Ω–Ω–æ | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |

---

**–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Å–ø–æ—Å–æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–∏—Ö –∑–∞–¥–∞—á!** üöÄ

