# –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–¥—É–ª—è –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–î–∞—Ç–∞:** 2024  
**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º**

---

## ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. ‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞–≥—Ä–∞–¥ - –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª:** `gamification/services/moderation_service.py:49-91`

**–ë—ã–ª–æ:**
- –ù–∞–≥—Ä–∞–¥—ã –Ω–∞—á–∏—Å–ª—è–ª–∏—Å—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –æ—Ç–∑—ã–≤–∞

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞ `old_status` (—Å—Ç—Ä–æ–∫–∞ 50)
- –ù–∞–≥—Ä–∞–¥—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏–ª—Å—è (—Å—Ç—Ä–æ–∫–∞ 86)
- –ï—Å–ª–∏ –æ—Ç–∑—ã–≤ —É–∂–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω - —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ª–æ–≥ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∏ 53-64)

```python
old_status = review.moderation_status
if old_status == 'approved':
    # –û—Ç–∑—ã–≤ —É–∂–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω, –Ω–µ –Ω–∞—á–∏—Å–ª—è–µ–º –Ω–∞–≥—Ä–∞–¥—ã –ø–æ–≤—Ç–æ—Ä–Ω–æ
    return review, moderation_log

# –ù–∞—á–∏—Å–ª—è–µ–º –Ω–∞–≥—Ä–∞–¥—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–∏–ª—Å—è
if old_status != 'approved':
    self.reward_manager.award_review(...)
```

---

### 2. ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏—á–∏–Ω–∞ 'spam_penalty' - –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª:** `gamification/models.py:294`

**–ë—ã–ª–æ:**
- –ü—Ä–∏—á–∏–Ω–∞ 'spam_penalty' –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –≤ REASON_CHOICES

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞ 'spam_penalty' –≤ REASON_CHOICES (—Å—Ç—Ä–æ–∫–∞ 294)
- –¢–µ–ø–µ—Ä—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ —à—Ç—Ä–∞—Ñ–æ–º –∑–∞ —Å–ø–∞–º —Å–æ–∑–¥–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

### 3. ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ - –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª:** `gamification/migrations/0001_initial.py`

**–ë—ã–ª–æ:**
- –í –ø–∞–ø–∫–µ migrations —Ç–æ–ª—å–∫–æ `__init__.py`

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- –°–æ–∑–¥–∞–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π:
  - Achievement
  - Review
  - Reward
  - RewardTransaction
  - UserProfile
  - ModerationLog
  - UserReward
  - UserAchievement
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

---

## ‚ö†Ô∏è –û–°–¢–ê–Æ–©–ò–ï–°–Ø –ü–†–û–ë–õ–ï–ú–´

### 4. ‚ö†Ô∏è –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –º–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ
**–§–∞–π–ª:** `gamification/admin.py:90-110`

**–°—Ç–∞—Ç—É—Å:** –í—Å–µ –µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–ú–µ—Ç–æ–¥—ã –ø—É—Å—Ç—ã–µ:
- `approve_selected()` - —Å—Ç—Ä–æ–∫–∞ 90
- `soft_reject_selected()` - —Å—Ç—Ä–æ–∫–∞ 98
- `spam_block_selected()` - —Å—Ç—Ä–æ–∫–∞ 105

---

### 5. ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–≥–∏–æ–Ω—É
**–§–∞–π–ª:** `gamification/services/leaderboard_service.py:45-47`

**–°—Ç–∞—Ç—É—Å:** –í—Å–µ –µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- –ü–∞—Ä–∞–º–µ—Ç—Ä `region` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ü–æ–ª–µ `region` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –º–æ–¥–µ–ª–∏ `UserProfile`
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞

---

### 6. ‚ö†Ô∏è –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
**–§–∞–π–ª:** `frontend/src/App.tsx:18-21`

**–°—Ç–∞—Ç—É—Å:** –í—Å–µ –µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–°—Ç—Ä–∞–Ω–∏—Ü—ã - –∑–∞–≥–ª—É—à–∫–∏:
- `/profile` - "–ü—Ä–æ—Ñ–∏–ª—å (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)"
- `/leaderboard` - "–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)"
- `/rewards` - "–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)"
- `/achievements` - "–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)"

---

### 7. ‚ö†Ô∏è –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Celery beat –¥–ª—è –º–µ—Å—è—á–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞
**–§–∞–π–ª:** `health_map/celery.py`

**–°—Ç–∞—Ç—É—Å:** –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

–ó–∞–¥–∞—á–∞ `monthly_reset()` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞, –Ω–æ –Ω–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.

---

### 8. ‚ö†Ô∏è –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ ViewSets
**–§–∞–π–ª:** `gamification/permissions.py:88-120`, `gamification/views.py`

**–°—Ç–∞—Ç—É—Å:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞

–í `CanPurchaseReward.has_permission()` –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ (—Å—Ç—Ä–æ–∫–∞ 117).

---

## üöÄ –ó–ê–ü–£–©–ï–ù–ù–´–ï –°–ï–†–í–ï–†–´

### Django Backend
- **URL:** http://localhost:8000
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **HTTP –∫–æ–¥:** 302 (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –ª–æ–≥–∏–Ω - –Ω–æ—Ä–º–∞–ª—å–Ω–æ)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLite (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- **–ü—Ä–æ—Ü–µ—Å—Å:** PID 62176, 62162

### React Frontend
- **URL:** http://localhost:3000
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **HTTP –∫–æ–¥:** 200
- **–ü—Ä–æ—Ü–µ—Å—Å:** PID 62261, 62260

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:** —Å–º. —Ñ–∞–π–ª `SERVER_STATUS.md`

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: 3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
1. ‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞–≥—Ä–∞–¥
2. ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∏—á–∏–Ω–∞ 'spam_penalty'
3. ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

### –û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ–±–ª–µ–º: 5 —Å—Ä–µ–¥–Ω–∏—Ö/–Ω–∏–∑–∫–∏—Ö
1. ‚ö†Ô∏è –ú–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ
2. ‚ö†Ô∏è –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–µ–≥–∏–æ–Ω—É
3. ‚ö†Ô∏è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
4. ‚ö†Ô∏è Celery beat —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
5. ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞

---

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢

1. ‚úÖ –í—Å–µ –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
2. ‚úÖ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã
3. ‚úÖ –°–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
4. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
5. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
6. ‚úÖ Django —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
7. ‚úÖ React —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω

---

## üîç –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è settings.py
- –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 'reviews' –∏ 'users'
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ SQLite –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìù –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

1. **–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∞—Å—Å–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ
   - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ ViewSets

2. **–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `region` –≤ UserProfile
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Celery beat –¥–ª—è –º–µ—Å—è—á–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞

3. **–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
   - –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API

---

**–û—Ç—á–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω:** AI Assistant  
**–î–∞—Ç–∞:** 2024

